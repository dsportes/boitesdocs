<!DOCTYPE html><html><head><title> PrÇsentation </title><meta charset='utf-8'><style> 
#content, body {
    -webkit-text-size-adjust: 100%; text-size-adjust: 100%; color: black;
    font-family: "Ubuntu"; font-size: 1rem; line-height: 1.3;
    word-wrap: break-word;
    padding: 1rem; max-width:800px; margin:0 auto;
    background: white;
}
h1,h2,h3,h4,h5,h6 { font-family:"Calibri"; line-height: 1.2; color:#37474F;padding-top:0.2rem;padding-bottom:0.2rem;}
h1 { font-size:2rem; font-weight:200; margin:2rem -0.5rem 1rem -0.5rem; padding-left:0.5rem; padding-right:0.5rem; border-bottom: 3px solid #37474F; text-align: center;}
h2 { font-size:1.75rem; font-weight:200; margin:1.75rem -0.5rem 0.75rem -0.5rem; padding-left:0.5rem; padding-right:0.5rem; border-bottom: 1px solid #37474F; }
h3 { font-size:1.5rem; font-weight:200; margin:1.5rem -0.5rem 0.5rem -0.5rem; padding-left:0.5rem; padding-right:0.5rem; border-bottom: 1px solid #78909C; }
h4 { font-size:1.4rem; font-weight:200; margin:1.4rem 0 0.5rem 0; padding-left:0; padding-right:0;}
h5 { font-size:1.3rem; font-weight:200; margin:1.3rem 0 0.5rem 0; padding-left:0; padding-right:0;}
h6 { font-size:1.2rem; font-weight:200; margin:1.2rem 0 0.5rem 0; padding-left:0; padding-right:0;}
blockquote, p, table, th, td, ul, ol {
    font-family: "Ubuntu"; font-size: 1rem; line-height: 1.3; text-justify:inter-word;
}
em { font-style: italic; }
strong { font-weight:bold; }
blockquote { color:#690c03; margin:1rem 0; padding: 0.2rem 0.5rem; border-left:0.4rem solid #690C03; font-style:italic;}
code, pre { font-family:'Ubuntu Mono'; color:#06065d !important; padding:0 0.2rem; background: white; }
table, th, td { border: 1px solid #044c70; border-collapse: collapse; padding:0.5em; }
p { margin:0.3em 0; }
ul, ol { padding:0 0 0 2rem; margin-top:0.2rem; margin-bottom:0; }
ol ol, ul ol { list-style-type: lower-roman; }
ul ul ol, ul ol ol, ol ul ol, ol ol ol { list-style-type: lower-alpha; }
hr { height:0.2rem; padding:0; margin:1.2rem 0; background-color:#78909C; border: 0 none; }
li>p { margin-top:0.5rem; }
h1,h2,h3,h4,h5,h6 { page-break-after:avoid;page-break-inside:avoid; }
</style></head><body> 
<h1>L'application Bo√Ætes √† secrets</h1>

<p>Toute organisation <code>monorg</code> qui le souhaite peut disposer de l'application Web <em>Bo√Ætes √† secrets</em> en s'adressant, soit √† un h√©bergeur de confiance, soit en s'h√©bergeant elle-m√™me. Ses membres utilisent un navigateur pour acc√©der √† leur application par une URL comme <code>https://monhebergeur.net/monorg</code>.
- Les organisations sont autonomes les unes des autres, leurs donn√©es sont enregistr√©es dans des bases de donn√©es diff√©rentes, m√™me si plusieurs organisations utilisent par √©conomie un m√™me h√©bergement.
- Chaque membre d'une organisation souhaitant acc√©der aux secrets et y partager les siens doit disposer d'un compte dont l'ouverture requiert le parrainage d'un compte d√©j√† existant.
- L'application est structur√©e pour des organisations petites et moyennes : de quelques dizaines de comptes √† quelques milliers, mais certainement pas des millions.</p>

<p>On ne consid√®re par la suite qu'une seule organisation.</p>

<blockquote>
  <p>L'application <strong>Bo√Ætes √† secrets</strong> propose aux comptes un stockage partag√© de secrets en contr√¥lant tr√®s pr√©cis√©ment qui peut acc√©der √† quoi.
  L'application permet des √©changes <strong>priv√©s</strong> d'information, r√©serv√©es √† des personnes <em>invit√©es</em> : les secrets n'y ont jamais un caract√®re public.</p>
  
  <p><strong>Aucun texte lisible humainement n'est disponible <em>en clair</em></strong>, ni dans les stockages locaux des navigateurs des terminaux, ni dans la base de donn√©es sur le serveur : tout y est crypt√© par des cl√©s issues d'une <strong>phrase secr√®te</strong> d√©finie par chaque compte et m√©moris√©e nulle part ailleurs que dans la t√™te du titulaire du compte. </p>
</blockquote>

<p>Le vol des appareils des titulaires des comptes (et de leurs donn√©es locales) ou de la base centrale centrale est compl√®tement inexploitable, les <em>pirates</em> ne peuvent en obtenir que des informations ind√©chiffrables.</p>

<blockquote>
  <p><em>Revers de cette s√©curit√©</em> : si le titulaire d'un compte <em>oublie</em> sa <strong>phrase secr√®te</strong> qui crypte indirectement toutes ses cl√©s d'acc√®s, il est ramen√©e √† l'impuissance du pirate.</p>
</blockquote>

<h1>Serveur central et sessions de l'application Web</h1>

<p><strong>Un utilisateur invoque l'application Web depuis un navigateur par une URL</strong> ce qui lui affiche une page d'interface graphique qui conna√Æt l'URL d'acc√®s au serveur central.</p>

<p><strong>Le serveur central</strong> h√©berge le stockage de r√©f√©rence des secrets et des informations sur les comptes. 
- seule <em>l'application serveur</em> met √† jour ces informations.
- elle n'accepte des requ√™tes <strong>qu'en provenance</strong> du domaine de l'installation, c'est √† dire √©mise par l'application Web <em>officielle</em>. Une application Web <em>officieuse / pirate</em> ne peut pas acc√©der aux donn√©es centrales.</p>

<p><strong>Stockage local</strong> <br>
Quand le titulaire d'un compte ouvre une session de l'application Web d'acc√®s √† ses secrets depuis un navigateur sur un appareil quelconque et s'identifie, celle-ci acc√®de au stockage local du navigateur <em>d√©di√© au compte</em> :
- la premi√®re fois ce stockage est charg√© des secrets d√©tenus sur le serveur central (seulement ceux concernant le compte) : c'est une <em>synchronisation</em> totale.
- les fois suivantes, beaucoup de secrets √©tant d√©j√† charg√©s, le stockage local est <em>synchronis√©</em> plus rapidement avec l'√©tat connu en central.</p>

<blockquote>
  <p>Remarque : si la session a √©t√© ouverte en <em>navigation priv√©e</em>, le stockage local du compte est effac√© automatiquement par le navigateur √† la fin de la session.</p>
</blockquote>

<h2>Modes <em>synchronis√©</em>, <em>incognito</em>, <em>avion</em> et <em>visio</em></h2>

<h3>Mode synchronis√©</h3>

<p><strong>C'est le mode normal, les donn√©es sont synchronis√©es entre le stockage central et local</strong> :
- le fonctionnement est acc√©l√©r√©,
- √ßa n√©cessite √† la fois que le serveur soit accessible par le r√©seau et que le stockage local ait √©t√© autoris√© par l'utilisateur.</p>

<h3>Mode incognito</h3>

<p><strong>Il n'y a pas de stockage local, toutes les donn√©es viennent du serveur</strong> ce qui n√©cessite un acc√®s au r√©seau. Le fonctionnement est plus lent √† l'initialisation. Aucune trace n'est laiss√©e sur l'appareil (utile au cyber-caf√© ou sur le mobile d'un.e ami.e).</p>

<h3>Mode avion</h3>

<p><strong>Le r√©seau n'est pas utilis√© : seul le stockage local est mis √† contribution</strong> :
- c'est parfois utile quand on craint que l'environnement r√©seau soit <em>surveill√© / peu s√ªr</em> ou techniquement instable, ou qu'on souhaite qu'aucun acc√®s r√©seau ne puisse √™tre trac√©.
- si une session de l'application locale s'est d√©j√† ex√©cut√©e une fois dans le navigateur pour un compte, celui-ci retrouve ses donn√©es telles que synchronis√©es lors de la derni√®re session ex√©cut√©e en mode <em>synchronis√©</em> sur ce poste pour ce compte. <br>
- les informations sont plus ou moins <em>en retard</em> par rapport √† l'√©tat de r√©f√©rence d√©tenu en central, mais peuvent √™tre tr√®s utiles.
- les mises √† jour ne sont pas possibles : <strong>toutefois les textes de nouveaux secrets ou des mises √† jour de secrets peuvent √™tre pr√©par√©es pour √™tre inject√©s dans leurs secrets lors de la prochaine session en mode <em>synchronis√©</em></strong>.</p>

<blockquote>
  <p><strong>Il est ainsi possible de disposer de plusieurs copies synchronis√©es de ses secrets sur des appareils diff√©rents.</strong></p>
</blockquote>

<h3>Mode d√©grad√© visio</h3>

<p>C'est un mode d√©grad√© quand ni le r√©seau, ni le stockage local ne sont accessibles.
- depuis un mode initial <em>synchronis√©</em>,
  - si le r√©seau n'est plus accessible, la session est d√©grad√©e en mode <em>avion</em>.
  - si le stockage local n'est plus accessible (espace satur√© par exemple), la session est d√©grad√©e en mode <em>incognito</em>.
- depuis un mode <em>incognito</em> (initial ou d√©grad√© depuis <em>synchronis√©</em>),
  - si le r√©seau n'est plus accessible, la session est d√©grad√©e en mode <em>visio</em>.
- depuis un mode <em>avion</em> (initial ou d√©grad√© depuis <em>synchronis√©</em>),
  - si le stockage local n'est plus accessible, la session est d√©grad√©e en mode <em>visio</em>.</p>

<p>En mode <em>d√©grad√©</em> <strong>visio</strong> les donn√©es actuellement charg√©es en session peuvent continuer √† √™tre consult√©es mais aucune mise √† jour ne peut √™tre faite. </p>

<blockquote>
  <p>Pour utiliser le mode <strong>avion</strong>, il n'est pas indispensable de couper le r√©seau, le choix se fait √† l'accueil de l'application. Toutefois, si le r√©seau est accessible, la version de l'application est √©ventuellement recharg√©e si celle du serveur central est plus r√©cente : un √©change sur le r√©seau peut alors √™tre d√©tect√© par les outils de surveillance. <br>
  Pour √™tre totalement ind√©tectable il faut utiliser le mode <strong>avion</strong> de son appareil et choisir le mode <strong>avion</strong> de l'application.</p>
</blockquote>

<h1>Secrets, comptes et avatars, groupes, contacts</h1>

<h2>Secrets</h2>

<p>Un <strong>secret</strong> est un <em>texte</em> court (moins de 4000 signes). 
- Le texte est lisible avec quelques √©l√©ments de d√©coration (<em>gras, italique, listes ...</em>) selon la syntaxe MD.
- Le d√©but du texte, les 140 premiers caract√®res ou la premi√®re ligne si elle est plus courte, est <em>l'aper√ßu ou titre</em> du secret, le texte qui s'affiche √† l'√©cran quand on y voit une liste de secrets.</p>

<p><strong>Un secret est modifiable</strong>, son texte comme ses pi√®ces jointes, du moins jusqu'√† ce que ce secret soit bascul√© en √©tat <em>archiv√©</em> auquel cas il devient immuable.</p>

<p><strong>Par d√©faut un secret est temporaire</strong>, il s'efface automatiquement au bout de quelques semaines, mais il peut √™tre rendu <strong>permanent</strong>, ou cr√©√© directement permanent, et n'est alors effac√© que sur demande explicite.</p>

<p><strong>Un secret a des <em>mots cl√©s</em></strong> : le filtrage √† l'affichage des secrets peut se faire par s√©lection de mots cl√©s selon leurs sujets (th√®me abord√© ...), leurs √©tats (<em>favori, obsol√®te, important, √† lire</em> etc.). Le filtrage peut √™tre affin√© selon la pr√©sence d'une portion de texte (mot ...) dans le titre ou le texte complet.</p>

<p><strong>Un secret peut avoir des <em>pi√®ces jointes</em></strong>
- une pi√®ce jointe a un <em>nom</em>, comme un nom de fichier, ayant en g√©n√©ral (sauf sur MAC) une extension (<code>.jpg .pdf .md</code> ...) correspondant √† son type MIME.
- une pi√®ce jointe a une taille raisonnable : les clips vid√©o doivent √™tre courts.
- on peut changer les pi√®ces jointes d'un secret (m√™me sans changer le texte du secret), en ajouter, en supprimer, en remplacer une par une nouvelle version.
- les pi√®ces jointes de type texte <em>Markdown</em> (<code>.md</code>), <em>image</em> (<code>.jpg .png .svg</code>), <em>audio</em> (<code>.mp3</code>...) et <em>video</em> peuvent s'afficher dans le navigateur qui peut, soit les afficher, soit ouvrir une application qui peut l'afficher, soit la charger sur un espace local de t√©l√©chargement.</p>

<h2>Comptes et leurs avatars</h2>

<p>Un compte a un ou plusieurs <strong>avatars</strong> qui sont comme autant de personnalit√©s diff√©rentes. Une m√™me personne peut avoir des compartiments de vie diff√©rents, contribuer √† des r√©flexions ou des actions diff√©rentes. Ce cloisonnement est possible en se d√©finissant plusieurs avatars :
- le titulaire d'un compte est le seul √† pouvoir conna√Ætre la liste de ses propres avatars.
- un compte ne conna√Æt des autres comptes que leurs avatars. Il est impossible, m√™me √† l'administrateur d'h√©bergement de l'application, de d√©terminer au regard de deux avatars s'ils correspondent au m√™me compte ou non.</p>

<blockquote>
  <p>Un avatar dispose de secrets <strong>personnels</strong> qui ne sont accessibles que par lui et ne seront jamais partag√©s avec d'autres.</p>
</blockquote>

<h2>Groupes d'avatars partageant des secrets</h2>

<p>Un avatar peut cr√©er un <strong>groupe</strong> r√©unissant plusieurs avatars qu'il a invit√©s et qui ont accept√© cette invitation.</p>

<blockquote>
  <p>Un groupe dispose de secrets <strong>de groupe</strong> qui ne sont accessibles qu'aux membres du groupe.</p>
</blockquote>

<p>Les avatars membres d'un groupe partagent les secrets du groupe :
- d√®s qu'ils sont membres ils peuvent acc√©der √† tous les secrets du groupe, m√™me ceux √©crits avant leur arriv√©e dans le groupe.
- d√®s qu'ils sont r√©sili√©s du groupe, ils ne peuvent plus acc√©der aux secrets du groupe.</p>

<p><strong>Chaque membre du groupe</strong> a un niveau de pouvoir :
- <strong>lecteur</strong> : il ne peut que lire les secrets du groupe.
- <strong>auteur</strong> : il peut lire, cr√©er, modifier les secrets du groupe.
- <strong>animateur</strong> : il peut de plus inviter des avatars √† rejoindre le groupe et les r√©silier (sauf ceux eux-m√™mes animateurs). Le cr√©ateur d'un groupe en est le premier animateur. </p>

<h2>Contacts personnels d'un avatar</h2>

<h3>Contact <em>simple</em></h3>

<p>Un avatar <code>A</code> peut inscrire un avatar <code>C</code> dans sa liste de contacts d√®s lors qu'il en a son identification compl√®te : <code>C</code> verra alors <code>A</code> comme contact quand il ouvrira une session (ou imm√©diatement si sa session est ouverte).</p>

<p>A et C <strong>peuvent</strong> alors partager <strong>des secrets de couple</strong> : un secret de couple est <em>d√©doubl√©</em> sur chacun des contacts et toute mise √† jour r√©percut√©e sur les deux exemplaires. L'un comme l'autre peuvent d√©truire leur exemplaire d'un secret partag√© avec l'autre sans que ceci n'affecte l'acc√®s de l'autre √† son propre exemplaire.</p>

<p>L'un des deux peut d√©cider de ne plus accepter le partage de secrets avec l'autre : ceci ne vaut que pour les secrets futurs, ceux partag√©s ant√©rieurement restent accessibles √† chacun.</p>

<p>A et C partagent une petite <em>ardoise textuelle</em> (140 signes), offrant un minimum d'√©change sans utiliser un secret partag√©. Ceci est utile en particulier quand l'un des deux a bloqu√© le partage de secrets : l'ardoise reste le seul moyen de communiquer a minima.</p>

<p>Un contact reste √©tabli jusqu'√† disparition effective de A ou C : si C dispara√Æt par exemple, les exemplaires pour A de ses secrets partag√©s avec C restent accessibles √† A.</p>

<h3>Contact rencontr√© hors de l'application</h3>

<p>Si A et C n'ont jamais √©t√© membres d'un m√™me groupe, ils ne connaissent pas l'identification compl√®te de l'autre et ne peuvent pas s'enregistrer comme contact.</p>

<p>Mais ils peuvent se conna√Ætre par ailleurs et peuvent √©tablir un contact : A par exemple d√©clare une <strong>phrase de rencontre</strong> et la communique hors de l'application √† C. C en frappant cette phrase dans l'application r√©cup√®re l'identit√© compl√®te de A et devient contact de A (avec ou sans partage de secrets).</p>

<h1>Compte et avatars</h1>

<h2>Cr√©ation d'un compte</h2>

<p>Pour se cr√©er un compte le titulaire doit d√©clarer :
- sa <strong>phrase secr√®te</strong> d'acc√®s et ne devra jamais l'oublier car elle n'est m√©moris√©e nulle part en clair dans l'application. 
  - elle sert √† authentifier le titulaire √† sa connexion √† l'application.
  - <strong>elle a deux lignes</strong>, une premi√®re d'au moins 16 signes et une seconde d'au moins 16 signes. L'application n'accepte pas d'avoir 2 comptes ayant des phrases secr√®tes ayant une m√™me premi√®re ligne.
  - la phrase secr√®te peut √™tre chang√©e ... √† condition de pouvoir fournir celle en cours.
  - l'oubli de cette phrase est irr√©m√©diable : indirectement elle crypte toutes les informations et secrets accessibles au compte.
  - l'administrateur de l'h√©bergement lui-m√™me n'a aucun moyen technique de la retrouver.
- le <strong>nom, immuable, de son premier avatar</strong> (un pseudo).
- la <strong>phrase de parrainage</strong> conjointement fix√©e avec un autre compte rencontr√© (hors de l'application) et ayant accept√© de le <em>parrainer</em> : 
  - parrain et filleul ont convenu de cette phrase et du nom du premier avatar du compte filleul.
  - le parrain a accept√© de prendre sur ses quotas d'espace pour donner au compte filleul un forfait de ressources.
  - le parrain a enregistr√© la phrase de parrainage avec le nom d'avatar du filleul et les forfaits attribu√©s.
  - quand le filleul accepte le parrainage, son compte est cr√©√© ainsi que son premier avatar qui a un premier contact, son parrain (r√©ciproquement le filleul est un contact du parrain).</p>

<p><strong>Un compte,</strong>
- est identifi√© par un num√©ro immuable al√©atoire de 15 chiffres.
- re√ßoit une cl√© principale de cryptage immuable al√©atoirement g√©n√©r√©e : celle-ci est m√©moris√©e crypt√©e par une cl√© d√©riv√©e de la phrase secr√®te du compte (impossible √† craquer par force brute).</p>

<p><strong>Un avatar,</strong>
- est identifi√© par un num√©ro immuable al√©atoire de 15 chiffres.
- a un <strong>nom immuable</strong>, d√©fini par le titulaire du compte : les homonymies sont permises dans l'application (ce nom ne pourra pas √™tre chang√©). Une partie du num√©ro accol√© au nom l√®ve les homonymies.
- re√ßoit des cl√©s cryptographique g√©n√©r√©es al√©atoirement et immuables :
  - la cl√© cryptant sa <strong>carte de visite</strong>.
  - un couple de cl√©s de cryptage (publique / priv√©e) utilis√©e pour les invitations √† des groupes.</p>

<h2>Carte de visite d'un avatar</h2>

<p>La <strong>carte de visite</strong> d'un avatar d'un compte est modifiable par le titulaire du compte et comporte :
- une photo de petite dimension,
- un court texte apportant une √©ventuelle pr√©cision au nom de l'avatar.</p>

<p>Elle est m√©moris√©e crypt√©e par la cl√© de l'avatar et est visible :
- de tout avatar X membre d'un m√™me groupe G que A,
- de tout avatar C ayant inscrit A dans ses contacts.</p>

<blockquote>
  <p><em>Il est possible de rencontrer deux avatars ayant m√™me pseudo</em>, les homonymes √©tant autoris√©s : la fin du num√©ro interne permet de les distinguer mais surtout la carte de visite, quand les avatars en ont d√©clar√© une, peut permettre de lever une √©ventuelle ambigu√Øt√©.</p>
</blockquote>

<h2>Mots cl√©s d'un compte et de l'organisation</h2>

<p>Un mot cl√© d'un compte a un index (de 1 √† 99): le mot peut contenir un √©moji (de pr√©f√©rence en t√™te). Le titulaire d'un compte d√©finit ses propres mots cl√©s.</p>

<p>L'organisation d√©clare aussi des mots cl√©s (d'index 200 √† 255) : ils sont communs √† tous et d√©clar√©s dans la configuration de l'h√©bergement. Quelques mots cl√©s (√† partir de 250) ont une signification interpr√©t√©e, donc ne pouvant pas √™tre configur√©e.</p>

<p>Les secrets des avatars personnels du compte ou des secrets partag√©s par le compte (de couple avec un contact ou de groupe) peuvent se voir attacher des mots cl√©s par le compte afin de les classer / filtrer.</p>

<h2>Cr√©ation d'un avatar</h2>

<p>Un compte peut se cr√©er un nouvel avatar suppl√©mentaire en donnant son nom.</p>

<p>Un compte peut aussi d√©truire un de ses avatars (sauf le dernier existant).</p>

<h2>Auto r√©siliation d'un compte</h2>

<p>Un compte peut s'auto-d√©truire. </p>

<p>Ses donn√©es sont effac√©es <em>mais pas tous ses secrets</em> : 
- pour un secret <em>de couple</em> : son exemplaire est bien d√©truit, mais pas l'exemplaire d√©tenu par l'autre.
- pour un secret de groupe, le secret <em>appartient</em> au groupe et reste normalement accessible aux autres membres.</p>

<h2>Disparition d'un compte</h2>

<p><strong>Un compte qui ne s'est pas connect√© pendant un certain temps (12 mois) est d√©clar√© <em>disparu</em></strong> et est d√©truit (ainsi que tous ses avatars). </p>

<p>Comme rien ne raccorde un compte au monde r√©el, ni adresse e-mail, ni num√©ro de t√©l√©phone ... il n'est pas possible d'informer quiconque de la disparition prochaine d'un compte.</p>

<blockquote>
  <p>Un certain temps avant d'√™tre d√©truits, les avatars du compte vont appara√Ætre <strong>en alerte</strong> pour les autres avatars avec qui ils sont en contact : certains de ceux-ci peuvent avoir dans la vraie vie un moyen d'alerter leur titulaire afin qu'il se connecte une fois ce qui le fera sortir de cet √©tat.</p>
</blockquote>

<h2>Cr√©ation d'un contact d'un avatar</h2>

<p>Un avatar <code>A</code> peut inscrire un avatar <code>C</code> dans sa liste de contacts d√®s lors que A et C sont membres d'un m√™me groupe G.</p>

<p>Ainsi A conserve l'identification compl√®te de C (son code, son nom et la cl√© de cryptage de sa carte de visite) m√™me si A ou C sont r√©sili√©s du groupe G o√π ils se sont rencontr√©s. A pourra ainsi inviter C √† un groupe.</p>

<p>A peut associer un commentaire et des mots cl√©s √† un contact C (que C ne voit pas).</p>

<p>Pour que A et C puissent partager des secrets <em>de couple</em> il faut qu'il en soit d'accord tous les deux.</p>

<p>Si C et A se sont rencontr√©s hors de l'application et souhaitent √©tablir un contact :
- ils d√©cident d'une phrase de contact connue d'eux seuls, par exemple <code>la framboise est pr√©coce</code>.
- chacun va citer cette phrase dans l'application :
  - le premier √† citer la phrase y enregistre automatiquement son identification,
  - le second √† citer la phrase provoque la cr√©ation du contact entre eux (et efface la phrase).</p>

<p>La phrase a une dur√©e de vie courte, elle s'efface automatiquement par s√©curit√© si le second avatar tarde √† citer la phrase.</p>

<p>A et C partagent une petite ardoise (moins de 140 signes) ce qui leur permet un minimum d'√©change sans partager un secret.</p>

<h1>Groupe</h1>

<p>Un groupe est cr√©√© par un avatar avec un <strong>nom immuable</strong> cens√© √™tre parlant dans l'organisation, du moins pour ses membres.
- un <strong>num√©ro</strong> interne sur 15 chiffres lui est attribu√© (inutile dans la vie courante),
- une <strong>cl√© de cryptage</strong> al√©atoire et immuable lui est aussi attribu√©e √† sa cr√©ation : elle ne sera transmise qu'aux membres du groupe et sert √† crypter les donn√©es du groupe dont l'acc√®s √† ses secrets.</p>

<p>L'avatar cr√©ateur,
- a le pouvoir d'animation du groupe, 
- lui transf√®re un minimum de quotas de stockage de secrets pr√©lev√©s sur ses propres quotas.</p>

<h2>Carte de visite d'un groupe</h2>

<p>La <strong>carte de visite</strong> d'un groupe est modifiable par un animateur du groupe et comporte :
- une photo (logo, image ...) de petite dimension,
- un court texte d√©crivant l'objet du groupe.</p>

<p>Elle est m√©moris√©e crypt√©e par la cl√© du groupe et est visible de tous les avatars membres actifs du groupe.</p>

<h2>Invitation d'un avatar √† un groupe</h2>

<p>Un animateur A peut <em>inviter</em> un autre avatar I dont il a l'identification compl√®te, avec un pouvoir propos√© de <em>lecteur</em>, <em>auteur</em> ou <em>animateur</em> :
- soit A et I sont membres d'un m√™me autre groupe G,
- soit I est un des contacts de A.</p>

<p>I a d√©sormais le statut <em>invit√©</em> dans la liste des membres du groupe jusqu'√† ce qu'il,
  - accepte l'invitation : il passe en statut <em>actif</em>,
  - ou refuse l'invitation : il passe en statut <em>refus</em>.</p>

<p>Chaque membre du groupe peut attacher au groupe des mots cl√©s et un intitul√© / commentaire qui lui est propre si le nom du groupe ne lui parle pas assez.</p>

<h2>Membre pressenti</h2>

<p>N'importe quel membre <em>auteur</em> ou <em>animateur</em> peut inscrire un avatar P dont il a l'identifiant complet comme membre <em>pressenti</em> :
- sa carte de visite sera lisible dans le groupe,
- une discussion dans le groupe peut alors s'op√©rer sur l'opportunit√© d'inviter ou non P dans le groupe,
- l'invitation effective reste √† discr√©tion d'un <em>animateur</em>.</p>

<h2>Pouvoir des animateurs</h2>

<p>Un animateur peut agir sur les statuts des autres membres :
- supprimer un membre ayant un statut <em>invit√©</em> et n'ayant pas encore accept√©,
- supprimer un membre ayant un statut <em>refus</em> (bien que ce soit automatique au bout de quelques jours),
- supprimer un membre ayant un statut <em>pressenti</em>,
- r√©silier un membre ayant un pouvoir <em>auteur</em> ou <em>lecteur</em>.</p>

<p>Un animateur peut agir sur les pouvoirs des autres membres non animateurs :
- d√©grader le pouvoir d'un membre de <em>auteur</em> √† <em>lecteur</em>,
- promouvoir un <em>lecteur</em> en <em>auteur</em> ou <em>animateur</em>,
- promouvoir un <em>auteur</em> √† <em>animateur</em>,</p>

<p>Tout membre peut,
- s'auto-r√©silier,
- d√©grader son propre pouvoir.</p>

<h2>Mots cl√©s d'un groupe</h2>

<p>Un mot cl√© d'un groupe a un index de 100 √† 199, un mot pouvant contenir un √©moji, de pr√©f√©rence en t√™te.</p>

<p>Les mots cl√©s peuvent √™tre attach√©s aux secrets du groupe.</p>

<p>Les mots cl√©s du groupe sont mis √† jour par un animateur du groupe.</p>

<h2>Archivage d'un groupe</h2>

<p>Un groupe peut <em>√™tre archiv√©</em> par un de ses animateurs : plus aucun secret ne peut y √™tre ajout√© / modifi√©.</p>

<p>En revanche le groupe peut continuer √† avoir des mouvements de membres et ses secrets peuvent √™tre copi√©s.</p>

<p>Un groupe peut √™tre d√©sarchiv√© par un animateur.</p>

<h2>Fermeture d'un groupe</h2>

<p>Un animateur peut <em>fermer</em> un groupe : il ne peut plus y avoir de nouvelles invitations.</p>

<p>Pour rouvrir un groupe il faut que tous les animateurs aient vot√© vouloir le rouvrir.</p>

<h2>Dissolution d'un groupe</h2>

<p>Elle s'op√®re quand le dernier membre actif du groupe se r√©silie lui-m√™me : tous les secrets sont d√©truits.</p>

<p>Quand le dernier membre actif d'un groupe passe en √©tat <em>disparu</em>, le groupe s'auto-dissout (plus personne ne pouvant y acc√©der).</p>

<h1>Secret</h1>

<p>Un secret est cr√©√© dans l'un des trois contextes suivants :
- <strong>secret personnel</strong> d'un avatar d'un compte. Seul le titulaire du compte le conna√Æt et peut le lire et le mettre √† jour.
- <strong>secret de couple</strong> de deux avatars A et B contacts. Le secret est d√©doubl√© en deux exemplaires, chacun propri√©t√© respective de A et de B :
  - les mises √† jour faites sur un exemplaire sont report√©es sur l'autre.
  - si A ou B d√©truit son exemplaire ceci n'affecte pas l'autre exemplaire.
  - si B par exemple est consid√©r√© comme disparu, les secrets du couple restent lisible par A (les exemplaires de A restent accessibles).
  - les mots cl√©s attach√©s par A √† son exemplaire sont ind√©pendants des mots cl√©s attach√©s par B √† son exemplaire.
- <strong>secret de groupe</strong>. Seuls les membres actifs du groupe y ont acc√®s et peuvent agir dessus.
  - le secret a un seul exemplaire partag√©, toute mise √† jour est visible par tous les membres du groupe.
  - tout animateur peut attribuer au secret des mots cl√©s du groupe ou de l'organisation.
  - tout membre peut attribuer de plus ses propres mots cl√©s : mots cl√©s du groupe, de l'organisation ou les siens propres (ces derniers ne sont pas interpr√©tables par les autres membres et en cons√©quence masqu√©s).</p>

<p><strong>Un secret est modifiable</strong>, son texte comme ses pi√®ces jointes, du moins jusqu'√† ce que ce secret soit bascul√© en √©tat <em>prot√©g√©</em> auquel cas il devient immuable. L'√©tat d'un secret indique par qui il peut √™tre modifi√© :
- <em>normal</em> : le secret est modifiable par tous ceux y ayant acc√®s ce qui change selon qu'il s'agit d'un secret personnel, de couple ou de groupe.
- <em>exclusif</em> : le secret n'est modifiable que par un avatar.
- <em>prot√©g√©</em> : le secret n'est plus modifiable.</p>

<p>L'√©tat d'un secret de groupe peut √™tre forc√© par un animateur du groupe.</p>

<p>Un secret de groupe garde la liste ordonn√©e des avatars l'ayant modifi√©, les plus r√©cents en t√™te mais sans doublons.</p>

<p><strong>Secrets voisins</strong>
Au d√©but il y a un secret A, normal.</p>

<p>Puis quelqu'un cr√©e un autre secret B en le d√©clarant <em>voisin</em> de A. Quelqu'un encore peut cr√©er un secret C <em>voisin</em> de A (s'il le d√©clare voisin de B, en fait il est cr√©√© voisin de A).</p>

<p>L'int√©r√™t est que si quelqu'un consulte C par exemple, il aura sous les yeux la liste des voisins (A, B, C en l'occurrence).</p>

<p>Ceci permet de cr√©er des sortes du bulles autour d'un secret initial et traitant tous de la m√™me chose. 
- si A est un secret d'un groupe par exemple, rien n'emp√™che de cr√©er des secrets D E F personnels voisins de A. De m√™me pour un secret de couple.
- quand il est dit qu'on voit la liste de tous ses voisins quand on affiche un secret c'est √† nuancer : on ne voit que les secrets qu'on a le droit de voir.
- si le secret A est supprim√©, √ßa ne change rien pour les autres qui restent voisins de A (mais on ne peut plus voir A).</p>

<p><strong>Pi√®ces jointes d'un secret</strong>
Une pi√®ce jointe a un nom, comme un nom de fichier, relativement √† son secret.
- une pi√®ce jointe peut √™tre mise √† jour, supprim√©e, d'autres ajout√©es.
- une pi√®ce jointe est stock√©e crypt√©e par la cl√© du groupe : si elle est de type MIME 'text' elle est compress√©e.
- une pi√®ce jointe est affichable en mode <em>synchronis√©</em> et <em>incognito</em> : voir ci-ar√®s comment par exception, elle peut √™tre accessible en mode <em>avion</em> sur certains appareils.
- les navigateurs peuvent en g√©n√©ral afficher beaucoup de types de pi√®ces jointes (mais pas tous tant s'en faut).
- on peut t√©l√©charger en local une pi√®ce jointe, typiquement dans le r√©pertoire <code>T√©l√©chargement</code> de l'appareil.</p>

<p>Une op√©ration de t√©l√©chargement permet d'√©crire sur un disque local une s√©lection de secrets, leurs textes et leurs pi√®ces jointes, en clair. Ceci requiert un PC (Linux ou Windows) et le chargement d'une petite application qui doit √™tre lanc√©e localement (un navigateur n'a pas le droit d'√©crire sur l'espace de fichiers du PC).</p>

<h2>Mots cl√©s : indexation / filtrage / annotation personnelle des secrets</h2>

<p>Il existe une liste de 56 mots cl√©s (de 200 √† 255) g√©n√©riques de l'application d√©finis √† son d√©ploiement par l'administrateur de l'h√©bergement. Par exemple : <em>√† relire, important, √† cacher, √† traiter d'urgence, ...</em> </p>

<p>Chaque mot cl√© a un texte et un possible √©moji.</p>

<p>Chaque compte a une liste de 99 mots cl√©s (de 1 √† 99) qu'il d√©finit lui-m√™me. Par exemple : <em>√©cologie, √©conomie, documentation, mot de passe, ...</em> </p>

<p>Chaque groupe a aussi une liste de 100 mots cl√© (de 100 √† 199) √† sa disposition.</p>

<p>Chaque secret peut √™tre index√© par ces mots cl√©s √† discr√©tion de chaque compte pour lui-m√™me ce qui n'affecte pas les indexations des autres.
- les libell√©s des mots cl√©s peuvent changer,
- l'affectation de mots cl√©s aux secrets √©galement, m√™me pour un secret archiv√©.</p>

<h1>Sp√©cificit√©s du mode <em>avion</em></h1>

<h2>Consultation seulement</h2>

<p>Les miss √† jour sont interdites : les secrets peuvent n'√™tre que lus, les invitations, gestion des contacts, etc. ne sont pas possibles.</p>

<h3>Notes en brouillon</h3>

<p>Toutefois en mode <em>avion</em> il est possible de cr√©er des <strong>notes</strong> : ce sont des textes qui pourront √™tre utilis√©s plus tard en mode <em>synchronis√©</em> pour √™tre copi√©s/coll√©s dans des secrets par exemple.</p>

<h3>Pi√®ces jointes en attente</h3>

<p>De m√™me des pi√®ces jointes peuvent √™tre pr√©par√©es : elles r√©f√©rencent des secrets pr√©cis (elles sont crypt√©es par la cl√© des secrets). Elles pourront √™tre charg√©es sur le serveur √† l'occasion de la prochaine session <em>synchronis√©e</em>. Cette action n'est pas automatique par s√©curit√© : elle doit √™tre d√©clench√©e explicitement, typiquement pour √©viter d'√©craser une pi√®ce jointe plus r√©cente par une plus ancienne captur√©e en mode <em>avion</em>.</p>

<h2>Acc√®s aux pi√®ces jointes en mode <em>avion</em></h2>

<p>En raison de leur volume les pi√®ces jointes r√©sident sur le serveur et ne sont pas m√©moris√©es dans les bases locales des sessions : elles ne sont lisibles qu'en mode <em>synchronis√©</em> ou <em>incognito</em> mais pas en mode <em>avion</em>.</p>

<p>Toutefois pour chaque appareil distinctement, le titulaire d'un compte peut <strong>cocher</strong> des pi√®ces jointes pour acc√©der √† leur contenu en mode <em>avion</em> :
- ceci est √† faire pi√®ce jointe par pi√®ce jointe et sur autant d'appareils que souhait√© : tous n'ont pas forc√©ment les m√™mes pi√®ces jointes coch√©es pour acc√®s en mode <em>avion</em>.
- une pi√®ce jointe ainsi coch√©e est maintenue √† jour, synchronis√©e, en cas de changement, durant une session synchronis√©e.
- on peut d√©cocher une pi√®ce jointe coch√©e, elle ne sera plus m√©moris√©e localement.
- si le secret dispara√Æt, les pi√®ces jointes correspondantes sont aussi supprim√©es localement.</p>

<blockquote>
  <p>Un exc√®s de pi√®ces jointes accessibles en mode <em>avion</em> peut entra√Æner le blocage de sessions, le stockage local tombant en erreur.</p>
</blockquote>
